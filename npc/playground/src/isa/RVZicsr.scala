package isa

import chisel3._
import chisel3.util._

import defs._
import module.fu.CSRCtrl

object RVZicsrInstr extends HasInstrType {
	def CSRRW	= BitPat("b????????????_?????_001_?????_1110011")
	def CSRRS	= BitPat("b????????????_?????_010_?????_1110011")
	def CSRRC	= BitPat("b????????????_?????_011_?????_1110011")
	def CSRRWI	= BitPat("b????????????_?????_101_?????_1110011")
	def CSRRSI	= BitPat("b????????????_?????_110_?????_1110011")
	def CSRRCI	= BitPat("b????????????_?????_111_?????_1110011")

	val table = Array (
		CSRRW	-> List(InstrI, FuType.csr, CSRCtrl.wrt),
		CSRRS	-> List(InstrI, FuType.csr, CSRCtrl.set),
		CSRRC	-> List(InstrI, FuType.csr, CSRCtrl.clr),
		CSRRWI	-> List(InstrI, FuType.csr, CSRCtrl.wrti),
		CSRRSI	-> List(InstrI, FuType.csr, CSRCtrl.seti),
		CSRRCI	-> List(InstrI, FuType.csr, CSRCtrl.clri)
	)
}